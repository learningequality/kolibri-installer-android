--bootstrap "webview"
--package "org.endlessos.Key"
--name "Endless Key"
--dist_name "kolibri"
--private "src"
--local-recipes "p4a-recipes"
--orientation sensor
--requirements python3,android,pyjnius,genericndkbuild,sqlite3,cryptography,twisted,attrs,bcrypt,service_identity,pyasn1,pyasn1_modules,pyopenssl,openssl,six,liblzma,zstandard,beautifulsoup4==4.10.0,zimply_core,kolibri_explore_plugin~=6.0,kolibri_zim_plugin
--android-api 31
--minsdk 24
--allow-minsdk-ndkapi-mismatch
--permission ACCESS_NETWORK_STATE
--permission FOREGROUND_SERVICE
--service remoteshell:remoteshell.py
--presplash assets/presplash.png
--presplash-color #F15A22
--icon assets/icon.png
--icon-fg assets/icon-fg.png
--icon-bg assets/icon-bg.png
--fileprovider-paths src/fileprovider_paths.xml
--add-asset assets/_load.html:_load.html
--add-asset assets/welcomeScreen:welcomeScreen
--whitelist ./allowlist.txt
--blacklist ./blocklist.txt
--add-source src/java/
--activity-meta-data WindowManagerPreference:FreeformWindowSize=maximize
--activity-meta-data WindowManagerPreference:FreeformWindowOrientation=landscape
--activity-meta-data WindowManagerPreference:SuppressWindowControlNavigationButton=true
--enable-androidx
--enable-google-services
--add-gradle-plugin com.google.firebase.crashlytics:com.google.firebase:firebase-crashlytics-gradle:2.9.2
--depend com.google.firebase:firebase-crashlytics:18.3.2
--depend com.google.firebase:firebase-crashlytics-ndk:18.3.2
--depend com.google.firebase:firebase-analytics:21.2.0
--depend com.android.installreferrer:installreferrer:2.2
--with-debug-symbols
--debug-manifest-placeholders '[analytics_enabled: "false"]'
--release-manifest-placeholders '[analytics_enabled: "true"]'
--meta-data firebase_analytics_collection_enabled=${analytics_enabled}
--meta-data firebase_crashlytics_collection_enabled=${analytics_enabled}
--extra-manifest-application-arguments 'android:gwpAsanMode="always"'
